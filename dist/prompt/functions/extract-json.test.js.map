{"version":3,"file":"extract-json.test.js","sourceRoot":"","sources":["../../../src/prompt/functions/extract-json.test.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,QAAQ,CAAC;AAC9C,OAAO,EAAE,iBAAiB,EAAE,MAAM,mBAAmB,CAAC;AAEtD,QAAQ,CAAC,qBAAqB,EAAE,GAAG,EAAE;IACnC,EAAE,CAAC,qBAAqB,EAAE,GAAG,EAAE;QAC7B,MAAM,CAAC,iBAAiB,CAAC,4BAA4B,CAAC,CAAC,CAAC,OAAO,CAAC;YAC9D,GAAG,EAAE,eAAe;SACrB,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IACH,EAAE,CAAC,qBAAqB,EAAE,GAAG,EAAE;QAC7B,MAAM,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,CAAC,CAAC,OAAO,CAAC;YAClD,GAAG,EAAE,KAAK;SACX,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IACH,EAAE,CAAC,0BAA0B,EAAE,GAAG,EAAE;QAClC,MAAM,GAAG,GAAG;;;;;;KAMX,CAAC;QACF,MAAM,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC;YACrC,GAAG,EAAE,KAAK;SACX,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { describe, expect, it } from 'vitest';\nimport { extractJsonObject } from './extract-json.js';\n\ndescribe('extractJsonObject()', () => {\n  it('fixes single quotes', () => {\n    expect(extractJsonObject(`{ \"foo\": 'single quotes' }`)).toEqual({\n      foo: 'single quotes',\n    });\n  });\n  it('fixes unquoted keys', () => {\n    expect(extractJsonObject(`{ foo: \"bar\" }`)).toEqual({\n      foo: 'bar',\n    });\n  });\n  it('ignores surrounding text', () => {\n    const str = `\n      This is my answer:\n      \\`\\`\\`\n      { \"foo\": \"bar\" }\n      \\`\\`\\`\n      But I'm an LLM so I keep rambling\n    `;\n    expect(extractJsonObject(str)).toEqual({\n      foo: 'bar',\n    });\n  });\n});\n"]}